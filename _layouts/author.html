---
layout: default
---

{% assign author_id = page.author_id %}
{% assign author = site.authors[author_id] %}
{% assign posts_match = site.posts | where_exp: "p", "p.authors contains author_id" %}
{% assign posts_fallback = site.posts | where: "author", author_id %}
{% assign posts_combined = posts_match | concat: posts_fallback | uniq %}
{% assign featured_posts = posts_combined | where_exp: "p", "p.featured == true" | sort: "date" | reverse %}
{% assign regular_posts = posts_combined | where_exp: "p", "p.featured != true" | sort: "date" | reverse %}
{% assign posts_combined = featured_posts | concat: regular_posts %}
{% assign category_list = posts_combined | map: "categories" | join: "," | split: "," | uniq | sort %}
{% assign latest_post = posts_combined | first %}
{% assign hero_title = page.title | default: author.display_name | default: author_id %}

<div class="author-page">
  <div class="author-hero">
    <div class="author-hero-avatar">
      {% if author.avatar %}
      <img src="{{site.baseurl}}/{{ author.avatar }}" alt="{{ author.display_name | default: author_id }}">
      {% elsif author.gravatar %}
      <img src="https://www.gravatar.com/avatar/{{ author.gravatar }}?s=250&d=mm&r=x" alt="{{ author.display_name | default: author_id }}">
      {% else %}
      <span class="avatar-initial">{{ author_id | slice: 0, 1 | upcase }}</span>
      {% endif %}
    </div>
    <div class="author-hero-meta">
      <h1>{{ hero_title }}</h1>
      {% if author.description %}
      <p class="author-hero-bio">{{ author.description }}</p>
      {% endif %}
      <div class="author-hero-links">
        {% if author.web %}<a href="{{ author.web }}" target="_blank" rel="noopener">Website</a>{% endif %}
        {% if author.twitter %}<a href="{{ author.twitter }}" target="_blank" rel="noopener">Twitter</a>{% endif %}
      </div>
    </div>
  </div>

  {% if page.content and page.content != "" %}
  <div class="author-about">
    {{ page.content | markdownify }}
  </div>
  {% endif %}

  {% if posts_combined.size > 0 %}
  <div class="masonry-grid listrecent">
    {% for post in posts_combined %}
      {% include postbox.html %}
    {% endfor %}
  </div>
  {% else %}
  <p>No posts yet.</p>
  {% endif %}
</div>
